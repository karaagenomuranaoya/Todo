{"ast":null,"code":"import{useState,useEffect}from\"react\";import{CompleteTodos}from\"./components/CompleteTodos\";import{IncompleteTodos}from\"./components/IncompleteTodos\";import{InputTodo}from\"./components/InputTodo\";import\"./styles.css\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export const Todo=()=>{const[todoText,setTodoText]=useState(\"\");const[incompleteTodos,setIncompleteTodos]=useState(()=>{const storedIncompleteTodos=localStorage.getItem(\"incompleteTodos\");return storedIncompleteTodos?JSON.parse(storedIncompleteTodos):[];});const[completeTodos,setCompleteTodos]=useState(()=>{const storedCompleteTodos=localStorage.getItem(\"completeTodos\");return storedCompleteTodos?JSON.parse(storedCompleteTodos):[];});const onChangeTodoText=event=>setTodoText(event.target.value);const onClickAdd=()=>{if(todoText===\"\")return;const newTodos=[...incompleteTodos,todoText];setIncompleteTodos(newTodos);setTodoText(\"\");};const onClickDelete=index=>{const newTodos=[...incompleteTodos];newTodos.splice(index,1);setIncompleteTodos(newTodos);};const onClickComplete=index=>{const newTodos=[...completeTodos,incompleteTodos[index]];onClickDelete(index);setCompleteTodos(newTodos);};const onClickBack=index=>{const newTodos1=[...incompleteTodos,completeTodos[index]];const newTodos2=[...completeTodos];newTodos2.splice(index,1);setIncompleteTodos(newTodos1);setCompleteTodos(newTodos2);};//未完了タスクを保存\nuseEffect(()=>{console.log(\"保存する未完了タスク:\",incompleteTodos);//保存直前のデータ\nlocalStorage.setItem(\"incompleteTodos\",JSON.stringify(incompleteTodos));},[incompleteTodos]);// 完了タスクを保存\nuseEffect(()=>{console.log(\"保存する完了タスク:\",completeTodos);//保存直前のデータ\nlocalStorage.setItem(\"completeTodos\",JSON.stringify(completeTodos));},[completeTodos]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputTodo,{todoText:todoText,onChange:onChangeTodoText,onClick:onClickAdd}),/*#__PURE__*/_jsx(IncompleteTodos,{todos:incompleteTodos,onClickComplete:onClickComplete,onClickDelete:onClickDelete}),/*#__PURE__*/_jsx(CompleteTodos,{todos:completeTodos,onClickBack:onClickBack})]});};","map":{"version":3,"names":["useState","useEffect","CompleteTodos","IncompleteTodos","InputTodo","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Todo","todoText","setTodoText","incompleteTodos","setIncompleteTodos","storedIncompleteTodos","localStorage","getItem","JSON","parse","completeTodos","setCompleteTodos","storedCompleteTodos","onChangeTodoText","event","target","value","onClickAdd","newTodos","onClickDelete","index","splice","onClickComplete","onClickBack","newTodos1","newTodos2","console","log","setItem","stringify","children","onChange","onClick","todos"],"sources":["/Users/nomuranaoya/Downloads/TodoReact/src/Todo.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { CompleteTodos } from \"./components/CompleteTodos\";\nimport { IncompleteTodos } from \"./components/IncompleteTodos\";\nimport { InputTodo } from \"./components/InputTodo\";\nimport \"./styles.css\";\n\nexport const Todo = () => {\n  const [todoText, setTodoText] = useState(\"\");\n  const [incompleteTodos, setIncompleteTodos] = useState(() => {\n    const storedIncompleteTodos = localStorage.getItem(\"incompleteTodos\");\n    return storedIncompleteTodos ? JSON.parse(storedIncompleteTodos) : [];\n  })\n\n\n  const [completeTodos, setCompleteTodos] = useState(() => {\n    const storedCompleteTodos = localStorage.getItem(\"completeTodos\");\n    return storedCompleteTodos ? JSON.parse(storedCompleteTodos) : [];\n  })\n  const onChangeTodoText = (event) => setTodoText(event.target.value);\n\n  const onClickAdd = () => {\n    if (todoText === \"\") return;\n    const newTodos = [...incompleteTodos, todoText];\n    setIncompleteTodos(newTodos);\n    setTodoText(\"\");\n  };\n\n  const onClickDelete = (index) => {\n    const newTodos = [...incompleteTodos];\n    newTodos.splice(index, 1);\n    setIncompleteTodos(newTodos);\n  };\n\n  const onClickComplete = (index) => {\n    const newTodos = [...completeTodos, incompleteTodos[index]];\n    onClickDelete(index);\n    setCompleteTodos(newTodos);\n  };\n\n  const onClickBack = (index) => {\n    const newTodos1 = [...incompleteTodos, completeTodos[index]];\n    const newTodos2 = [...completeTodos];\n    newTodos2.splice(index, 1);\n    setIncompleteTodos(newTodos1);\n    setCompleteTodos(newTodos2);\n  };\n  //未完了タスクを保存\n  useEffect(() => {\n    console.log(\"保存する未完了タスク:\", incompleteTodos); //保存直前のデータ\n    localStorage.setItem(\"incompleteTodos\", JSON.stringify(incompleteTodos));\n  }, [incompleteTodos]);\n\n  // 完了タスクを保存\n  useEffect(() => {\n    console.log(\"保存する完了タスク:\", completeTodos); //保存直前のデータ\n    localStorage.setItem(\"completeTodos\", JSON.stringify(completeTodos));\n  }, [completeTodos]);\n\n  return (\n    <>\n      <InputTodo\n        todoText={todoText}\n        onChange={onChangeTodoText}\n        onClick={onClickAdd}\n      />\n      <IncompleteTodos\n        todos={incompleteTodos}\n        onClickComplete={onClickComplete}\n        onClickDelete={onClickDelete}\n      />\n      <CompleteTodos todos={completeTodos} onClickBack={onClickBack} />\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}